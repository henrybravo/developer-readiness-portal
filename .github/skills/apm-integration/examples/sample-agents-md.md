# Sample AGENTS.md

This is an example of what a generated AGENTS.md file looks like.

---

# AGENTS.md

> Auto-generated by APM v1.2.0 on 2024-12-15
> Source: apm_modules/
> Run `apm compile` to regenerate

## Installed Packages

| Package | Version | Description |
|---------|---------|-------------|
| EmeaAppGbb/spec2cloud-guidelines | 1.0.0 | Core engineering principles |
| EmeaAppGbb/spec2cloud-guidelines-backend | 1.0.0 | .NET backend standards |
| EmeaAppGbb/spec2cloud-guidelines-frontend | 1.0.0 | Next.js/React standards |

---

## General Engineering Principles

### Agent-First Development
- Design systems with AI agents in mind
- Provide clear, structured outputs
- Enable programmatic interaction
- Document all APIs thoroughly

### Code Quality Standards
- **Readability**: Code should be self-documenting
- **Simplicity**: Prefer simple solutions over complex ones
- **Consistency**: Follow established patterns in the codebase
- **Testability**: Design for easy unit testing

### Test Coverage Requirements
| Type | Minimum Coverage |
|------|-----------------|
| Unit Tests | 85% |
| Integration Tests | Required for APIs |
| E2E Tests | Critical user flows |

### Documentation Standards
- All public methods must have XML/JSDoc comments
- README.md required in each project root
- API endpoints documented with OpenAPI
- Architecture decisions recorded in ADRs

### Security Requirements
- No hardcoded secrets or credentials
- Use Azure Key Vault for sensitive configuration
- Validate and sanitize all user inputs
- Follow OWASP Top 10 guidelines

---

## Backend Standards (.NET)

### Project Structure
```
src/
├── Api/                 # Controllers, DTOs
├── Application/         # Services, Commands, Queries
├── Domain/             # Entities, Value Objects
├── Infrastructure/     # Data access, External services
└── Tests/              # Unit and integration tests
```

### Coding Conventions
- Use `async`/`await` for all I/O operations
- Implement dependency injection via constructor
- Use MediatR for command/query separation
- Apply FluentValidation for input validation

### API Design
```csharp
// Good: RESTful endpoint with proper attributes
[HttpGet("{id}")]
[ProducesResponseType(typeof(TaskDto), StatusCodes.Status200OK)]
[ProducesResponseType(StatusCodes.Status404NotFound)]
public async Task<ActionResult<TaskDto>> GetById(Guid id)
{
    var result = await _mediator.Send(new GetTaskQuery(id));
    return result is null ? NotFound() : Ok(result);
}
```

### Error Handling
- Use ProblemDetails for error responses
- Include correlation IDs in all requests
- Log errors with structured logging
- Never expose internal exception details

---

## Frontend Standards (Next.js/React)

### Project Structure
```
src/
├── app/                # Next.js app router pages
├── components/         # Reusable UI components
├── hooks/             # Custom React hooks
├── lib/               # Utilities, API client
├── stores/            # State management
└── types/             # TypeScript types
```

### Component Guidelines
```tsx
// Good: Typed, focused component
interface TaskCardProps {
  task: Task;
  onComplete: (id: string) => void;
}

export function TaskCard({ task, onComplete }: TaskCardProps) {
  return (
    <Card onClick={() => onComplete(task.id)}>
      <CardTitle>{task.title}</CardTitle>
      <CardDescription>{task.description}</CardDescription>
    </Card>
  );
}
```

### State Management
- Use Zustand for global state
- Use React Query for server state
- Keep component state minimal
- Avoid prop drilling with context

### Styling
- Use Tailwind CSS utility classes
- Follow mobile-first approach
- Use `cn()` helper for conditional classes
- Extract repeated patterns to components

---

## File Pattern Rules

| Pattern | Applied Standards |
|---------|------------------|
| `**/*.cs` | .NET coding conventions, async patterns |
| `**/*.tsx` | React component guidelines, TypeScript strict |
| `**/*.test.ts` | Testing conventions, coverage requirements |
| `**/Controllers/**` | API design, error handling |
| `**/components/**` | Component guidelines, styling |

---

## Quality Gates

Before merging any PR:
- [ ] All tests pass
- [ ] Coverage ≥ 85%
- [ ] No linter errors
- [ ] Types pass strict check
- [ ] Documentation updated
- [ ] No secrets in code

---

*Generated: December 15, 2024*
*APM Version: 1.2.0*
